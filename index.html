<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/png" href="images/favicon/brand.png">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DISSECT YOURSELF</title>
<style>

/* Sketchy floating page icon */
.page-icon {
  position: relative;
  width: 20px;
  height: 24px;
  background: #111;                /* dark background */
  border: 2px solid #ff4c4c;      /* red border */
  border-radius: 2px;
  margin-right: 6px;
  display: inline-block;
  vertical-align: middle;
  box-shadow: inset 0 0 0 0.5px #880000;

  /* slow floating motion with subtle side sway */
  animation: floatPage 4s ease-in-out infinite;
}

/* Lines on the page */
.page-icon::before,
.page-icon::after {
  content: '';
  position: absolute;
  left: 3px;
  right: 3px;
  height: 2px;
  background: #ff4c4c;
  transform: rotate(-1deg);
}

.page-icon::before { top: 6px; }
.page-icon::after { top: 12px; }

/* Extra line for detail */
.page-icon span {
  position: absolute;
  left: 3px;
  right: 3px;
  height: 2px;
  background: #ff4c4c;
  top: 18px;
  display: block;
  transform: rotate(1deg);
}

/* Smooth floating animation with subtle sway */
@keyframes floatPage {
  0%   { transform: translate(0px, 0px) rotate(0deg); }
  20%  { transform: translate(-1px, -2px) rotate(-0.5deg); }
  40%  { transform: translate(1px, -1px) rotate(0.3deg); }
  60%  { transform: translate(-1px, 1px) rotate(-0.2deg); }
  80%  { transform: translate(1px, 2px) rotate(0.5deg); }
  100% { transform: translate(0px, 0px) rotate(0deg); }
}




.site-header {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px 0;
}

.site-header img {
  height: 200px; /* adjust size as you like */
  width: auto;
  filter: drop-shadow(0 0 8px rgba(255,0,0,0.4));
  animation: fadeIn 1.2s ease-out, 
             pulseGlow 3s ease-in-out infinite,
             glitch 4s infinite;
  position: relative;
  z-index: 2;
}

/* Fade In */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Soft Pulsing Glow */
@keyframes pulseGlow {
  0% { filter: drop-shadow(0 0 8px rgba(255,0,0,0.4)); }
  50% { filter: drop-shadow(0 0 16px rgba(255,0,0,0.9)); }
  100% { filter: drop-shadow(0 0 8px rgba(255,0,0,0.4)); }
}

/* Glitch Effect */
@keyframes glitch {
  0% { transform: translate(0); }
  45% { transform: translate(0); }
  46% { transform: translate(-2px, 2px); }
  47% { transform: translate(2px, -2px); }
  48% { transform: translate(0); }
  75% { transform: scale(1); }
  76% { transform: scale(1.02); }
  77% { transform: scale(1); }
  100% { transform: translate(0); }
}

.site-header::after {
  content: "";
  position: absolute;
  width: 100%;
  height: 160px;
  top: 0;
  left: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255, 0, 0, 0.06) 0px,
    rgba(255, 0, 0, 0.06) 2px,
    rgba(0, 0, 0, 0) 3px
  );
  mix-blend-mode: overlay;
  animation: scan 9s linear infinite;
}

/* Scanline Motion */
@keyframes scan {
  0% { background-position-y: 0px; }
  100% { background-position-y: 200px; }
}



/* -----------------------------
   GLOBAL STYLES
----------------------------- */
* { box-sizing: border-box; }
html, body {
  margin: 0;
  padding: 0;
  font-family: 'Share Tech Mono', monospace;
  background: #000;
  overflow-x: hidden;
  min-height: 100vh;
}

/* Canvas background */
#grayscaleCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 0;
}

/* Card wrapper */
.card {
  margin: 40px auto;
  max-width: 1400px;
  width: 95%;
  padding: 30px;
  background: rgba(0,0,0,0.85);
  border: 4px solid #880000;
  backdrop-filter: blur(8px);
  position: relative;
  z-index: 2;
  animation: cardglow 4s ease-in-out infinite alternate,
             cardfloat 6s ease-in-out infinite alternate;
}

@keyframes cardglow {0%{box-shadow:0 0 80px #440000, inset 0 0 35px #220000;}50%{box-shadow:0 0 100px #550000, inset 0 0 45px #330000;}100%{box-shadow:0 0 80px #440000, inset 0 0 35px #220000;}}
@keyframes cardfloat {0%{transform:translateY(0px);}50%{transform:translateY(-6px);}100%{transform:translateY(0px);}}

header h1 { font-size:60px; margin:0; text-align:center; letter-spacing:6px; font-weight:bold; text-shadow:2px 2px 15px #ff0000,-2px -2px 12px #220000; }

.tabs { display:flex; justify-content:center; gap:20px; margin:30px 0 20px 0; }
.tab { 
  position: relative;
  background: rgba(0,0,0,0.9);
  border:2px solid #880000;
  padding:14px 28px;
  cursor:pointer;
  font-weight:bold;
  color:#fff;
  letter-spacing:3px;
  display:flex;
  align-items:center;
}

/* Existing tab styles stay unchanged */

/* Responsive adjustments for small screens */
@media (max-width: 600px) {
  .tabs {
    flex-wrap: wrap;      /* allow tabs to wrap to new line */
    gap: 10px;            /* slightly smaller spacing */
    justify-content: center;
  }

  .tab {
    padding: 10px 18px;   /* slightly smaller padding */
    font-size: 14px;      /* make text smaller */
  }
}


.tab:hover { transform: scale(1.1) skewX(-5deg); }
.tab[aria-selected="true"] { background:#fff; color:#000; border-color:#ff0000; }
.tab span.text { position: relative; z-index: 1; }

/* Panels */
.panel { display:none; opacity:0; transition: opacity .8s; padding:25px; background:rgba(0,0,0,0.85); border:3px solid #660000; width:calc(100% - 60px); position:relative; color: #fff; margin:0 auto;}
.panel.active { display:block; opacity:1; }

/* -----------------------------
   ART MODAL / LIGHTBOX
----------------------------- */

/* Art text box */
.art-text {
  margin-top: 12px;
  color: #fff;
  font-size: 16px;
  line-height: 1.4;
  text-align: center;

  /* New box styling */
  border: 2px solid #880000;   /* red border */
  border-radius: 6px;           /* rounded corners */
  padding: 12px 16px;           /* spacing inside the box */
  background: rgba(0,0,0,0.7);  /* semi-transparent dark background */
  max-width: 90%;               /* prevent it from overflowing */
  margin-left: auto;
  margin-right: auto;
  box-shadow: 0 0 15px rgba(136,0,0,0.5); /* optional glow effect */
}

.art-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  z-index: 10001;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  display: flex;              /* use flex to center */
  align-items: center;        /* vertical center */
  justify-content: center;    /* horizontal center */
  padding: 20px;
}
.art-modal.active {
  opacity: 1;
  pointer-events: auto;
}
.art-modal-content {
  position: relative;
  width: 90vw;
  max-width: 1200px;
  max-height: 90vh;         /* stay within screen */
  display: flex;
  flex-direction: column;
  align-items: stretch;     /* allow content to fill width */
  justify-content: flex-start; /* start from top */
  text-align: center;
  background: rgba(0,0,0,0.95);
  border: 2px solid #880000;
  border-radius: 10px;
  padding: 10px 20px 20px 20px;
  overflow-y: auto;         /* enable vertical scroll */
  -webkit-overflow-scrolling: touch; /* smooth scroll on iOS */
  box-sizing: border-box;

  /* Zoom-in effect */
  transform: scale(0.8);
  opacity: 0;
  transition: transform 0.2s ease-out, opacity 0.2s ease-out;
}

.art-modal.active .art-modal-content {
  transform: scale(1);          /* scale to full size */
  opacity: 1;                   /* fade in */
}

.art-modal-content img {
  max-width: 100%;
  max-height: 70vh;  /* won't exceed 70% of viewport */
  object-fit: contain;
  display: block;
  margin: 0 auto 12px auto;
  border-radius: 4px;
}
.art-modal-content .art-text {
  margin-top: 12px;
  color: #fff;
  font-size: 16px;
  line-height: 1.4;
  text-align: center;
}
.art-modal-close {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 28px;
  font-weight: bold;
  color: #fff;
  cursor: pointer;
}

/* -----------------------------
   ART & ALBUM GRID
----------------------------- */
.album-name {
  text-align: center;
  font-weight: bold;
  color: #fff;
  margin: 8px 0 4px 0;
  letter-spacing: 1px;
}

.art-grid, .album-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.art-card, .album-card, .art-item {
  position: relative;
  border: 2px solid #880000;
  padding: 10px;
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  background: linear-gradient(180deg, rgba(0,0,0,0.65), rgba(0,0,0,0.5));
  overflow: hidden;
}

.art-card:hover, .album-card:hover, .art-item:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 8px 30px rgba(0,0,0,0.6), 0 0 24px rgba(136,0,0,0.15);
}

.art-image, .album-image {
  width: 100%;
  height: auto;
  display: block;
  border: 2px solid #550000;
  border-radius: 4px;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.6);
}

/* Album Links – always visible */
.album-links {
  max-height: none;        /* no height limit */
  overflow: visible;       /* show all links */
  padding: 6px 0;          /* spacing */
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.album-links a {
  color: #ff7b7b;
  text-decoration: none;
  font-weight: bold;
  letter-spacing: 0.8px;
  padding: 6px 8px;
  display:block;
  border-radius: 3px;
}
.album-links a:hover {
  background: rgba(255,0,0,0.06);
  color: #ffb3b3;
}

/* -----------------------------
   BOOMBOX, PAINTBRUSH, CONTROLLER ANIMATIONS
----------------------------- */
/* Boombox */
.boombox-container { margin-right:8px; }
.boombox { width:60px; height:40px; position: relative; transform-style: preserve-3d; transform-origin: center center; animation: rotate3d 4s linear infinite; }
.boombox.paused { animation-play-state: paused; }
.cube-face { position:absolute; box-sizing:border-box; border:2px solid #880000; }
.cube-front { width:60px; height:40px; background:#ff0000; transform: translateZ(20px); }
.cube-back  { width:60px; height:40px; background:#aa0000; transform: rotateY(180deg) translateZ(20px); }
.cube-left  { width:40px; height:40px; background:#bb0000; transform: rotateY(-90deg) translateZ(20px); }
.cube-right { width:40px; height:40px; background:#bb0000; transform: rotateY(90deg) translateZ(40px); }
.cube-top    { width:60px; height:40px; background:#cc0000; transform: rotateX(90deg) translateZ(20px); }
.cube-top::after { content:""; position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.2); transform:rotateX(0deg);}
.cube-bottom { width:60px; height:40px; background:#880000; transform: rotateX(-90deg) translateZ(20px); }
.speaker { position:absolute; border-radius:50%; background:#000; width:12px; height:12px; }
.speaker.left { top:10px; left:6px; }
.speaker.right { top:10px; right:6px; }
.knob { position:absolute; width:3px; height:3px; background:#000; border-radius:50%; }
.knob.left { bottom:5px; left:10px; }
.knob.right { bottom:5px; right:10px; }
.led { width:4px; height:4px; background:yellow; border-radius:50%; position:absolute; top:6px; }
.led.left { left:8px; animation: blink1 0.9s infinite; }
.led.right { right:8px; animation: blink2 1.3s infinite; }
@keyframes blink1 {0%,100%{opacity:0.2;}50%{opacity:1;}}
@keyframes blink2 {0%,100%{opacity:0.2;}50%{opacity:1;}}
@keyframes rotate3d {0%{transform:rotateY(0deg) rotateX(5deg);}50%{transform:rotateY(180deg) rotateX(-5deg);}100%{transform:rotateY(360deg) rotateX(5deg);}}

/* Paintbrush */
.paint-container { margin-right:8px; }
.paintbrush { width:20px; height:40px; position:relative; transform-origin:center center; animation: brushrotate 2s linear infinite; }
.paintbrush.paused { animation-play-state: paused; }
.brush-handle { width:6px; height:30px; background:#8B4513; position:absolute; bottom:0; left:7px; border-radius:2px; }
.brush-tip { width:12px; height:10px; background:#FF0000; position:absolute; top:0; left:4px; border-radius:2px; }
@keyframes brushrotate {0%{transform:rotate(-10deg);}50%{transform:rotate(10deg);}100%{transform:rotate(-10deg);}}

/* PS4 controller */
.controller-container { margin-right:8px; }
.controller { width:40px; height:25px; position:relative; transform-origin:center center; animation: controllerSpin 3s linear infinite; }
.controller.paused { animation-play-state: paused; }
.controller-body { width:40px; height:25px; background:#222; border-radius:12px; position:absolute; top:0; left:0; }
.controller-button { width:4px; height:4px; border-radius:50%; position:absolute; }
.controller-button.triangle { top:5px; left:30px; background:#0f0; }
.controller-button.circle   { top:10px; left:35px; background:#f00; }
.controller-button.cross    { top:15px; left:30px; background:#00f; }
.controller-button.square   { top:10px; left:25px; background:#ff0; }
@keyframes controllerSpin {0%{transform:rotateY(0deg) rotateX(3deg);}50%{transform:rotateY(180deg) rotateX(-3deg);}100%{transform:rotateY(360deg) rotateX(3deg);}}

/* Small screens */
@media (max-width:600px){
  header h1{ font-size:36px;}
  .card{ padding:18px;}
  .tabs{ gap:10px;}
}

.front-intro { text-align:center; margin-top:30px; font-size:20px; line-height:1.6; }
.front-intro span.highlight { color:#ff4c4c; font-weight:bold; }

.featured-single { display:flex; justify-content:center; margin-top:40px; }
.featured-single img { max-width:80%; height:auto; border:2px solid #880000; border-radius:6px; box-shadow:0 8px 30px rgba(0,0,0,0.6), 0 0 24px rgba(136,0,0,0.15); transition: transform 0.3s ease; }
.featured-single img:hover { transform: scale(1.02); }

body.modal-open {
  overflow: hidden; /* prevent scrolling */
  /* remove position: fixed and width/height */
}

</style>
</head>
<body>
<canvas id="grayscaleCanvas"></canvas>

<div class="card">
  <header class="site-header">
  <img src="images/dissectyourself2.png" alt="Site Logo">
</header>

  <div class="tabs">
    <button class="tab" aria-selected="true" data-target="front">Front Page</button>

    <button class="tab" data-target="music">
      <span class="boombox-container">
        <div class="boombox">
          <div class="cube-face cube-front">
            <div class="speaker left"></div>
            <div class="speaker right"></div>
            <div class="knob left"></div>
            <div class="knob right"></div>
            <div class="led left"></div>
            <div class="led right"></div>
          </div>
          <div class="cube-face cube-back"></div>
          <div class="cube-face cube-left"></div>
          <div class="cube-face cube-right"></div>
          <div class="cube-face cube-top"></div>
          <div class="cube-face cube-bottom"></div>
        </div>
      </span>
      <span class="text">Music</span>
    </button>

    <button class="tab" data-target="art">
      <span class="paint-container">
        <div class="paintbrush">
          <div class="brush-handle"></div>
          <div class="brush-tip"></div>
        </div>
      </span>
      <span class="text">Art/Story</span>
    </button>
	
<button class="tab" data-target="links">
  <span class="page-icon"><span></span></span>
  <span class="text">Links</span>
</button>
  </div>

<!-- FRONT PAGE -->
<div class="panel active" id="front">
  <div class="front-intro">
    <p><span class="highlight">DISSECT YOURSELF</span> — sound, vision, and story in one</p>
  </div>
</div>

  
<!-- MUSIC PANEL -->
<div class="panel" id="music">
  <div class="album-grid">
    <!-- NOESIS -->
    <div class="album-card">
      <img src="images/art/albumart/noesis.jpg" alt="NOESIS" class="album-image" />
      <div class="album-name">NOESIS</div>
      <div class="album-links">
        <a href="https://open.spotify.com/album/2IMSF1tMvBX1qjASqqCZaE" target="_blank">Spotify</a>
        <a href="https://soundcloud.com/sk00ma/sets/noesis" target="_blank">SoundCloud</a>
        <a href="https://www.youtube.com/watch?v=xo2oYH14L5Y&list=PL5K7FN3DnWJtkJqog_MD5t-vQ9kca_HAe" target="_blank">YouTube</a>
      </div>
    </div>

    <!-- DOUBLE -->
    <div class="album-card">
      <img src="images/art/albumart/double.jpg" alt="DOUBL[E]" class="album-image" />
      <div class="album-name">DOUBLE</div>
      <div class="album-links">
        <a href="https://open.spotify.com/album/1Zvwxr5b93PpoW2HmbZ30y" target="_blank">Spotify</a>
        <a href="https://soundcloud.com/sk00ma/sets/double" target="_blank">SoundCloud</a>
        <a href="https://www.youtube.com/watch?v=1PNfDgBInBQ&list=PL5K7FN3DnWJvum0oXu6GlhDsN97hAfNQv" target="_blank">YouTube</a>
      </div>
    </div>

    <!-- ATOMIC -->
    <div class="album-card">
      <img src="images/art/albumart/atomic.jpg" alt="ATOMIC" class="album-image" />
      <div class="album-name">ATOMIC</div>
      <div class="album-links">
        <a href="https://open.spotify.com/album/0lXTCr2G7v3whV3cWM8A6h" target="_blank">Spotify</a>
        <a href="https://soundcloud.com/sk00ma/sets/atomic" target="_blank">SoundCloud</a>
        <a href="https://www.youtube.com/watch?v=0QqQ1317SN8&list=PL5K7FN3DnWJsV1FqpaSitos-0eqfdLqS_" target="_blank">YouTube</a>
      </div>
    </div>

    <!-- Add more albums here following the same structure -->
  </div>
</div>


  <!-- ART PANEL -->
<div class="panel" id="art">
  <div class="art-grid">
    <div class="art-item">
      <h3>BIO</h3>
      <img src="images/artjpeg/BIO.jpg" class="art-image" alt="BIO">
      <div class="art-text" style="display:none;">WIP.</div>
    </div>
    <div class="art-item">
      <h3>Cyborg</h3>
      <img src="images/artjpeg/Cyborg.jpg" class="art-image" alt="Cyborg">
      <div class="art-text" style="display:none;">WIP.</div>
    </div>
    <div class="art-item">
      <h3>Destroyed</h3>
      <img src="images/artjpeg/Destroyed.jpg" class="art-image" alt="Destroyed">
      <div class="art-text" style="display:none;">WIP.</div>
    </div>
    <div class="art-item">
      <h3>DISINTEGRATE</h3>
      <img src="images/artjpeg/DISINTEGRATE.jpg" class="art-image" alt="DISINTEGRATE">
      <div class="art-text" style="display:none;">Year 2097.

Humanity has transcended its biological limitations. Mortality is no longer a concern; pain has been eradicated, and complete muscular control is now innate. The human form has achieved perfection, no longer bound by fragility.

Within the confines of a sleek, half-shield-shaped bed, a man rests in undisturbed slumber.

Suddenly, an intense burning sensation erupts within his eyes. Agony far beyond anything previously conceived by human experience.

There is only void left. Yet, the void is not null. It is inhabited. There is something there: a presence, a being not meant to be perceived by the human eye. And yet, he perceives it.

"It burns!" he screams, his voice filled with unendurable torment, as his body and existence disintegrates into ash..</div>
    </div>
    <div class="art-item">
      <h3>DUNZ</h3>
      <img src="images/artjpeg/DUNZ.jpg" class="art-image" alt="DUNZ">
      <div class="art-text" style="display:none;">WIP.</div>
    </div>
    <div class="art-item">
      <h3>Headache</h3>
      <img src="images/artjpeg/Headache.jpg" class="art-image" alt="Headache">
      <div class="art-text" style="display:none;">Headache. A sharp, stinging pain that sits right behind the eye, pulling at your face as if a tiny black hole has formed there, dragging everything inward. It’s the kind of pain that makes your whole face, melt into your eye socket. Or maybe you're just about to go insane, who knows?</div>
    </div>
    <div class="art-item">
      <h3>Korb</h3>
      <img src="images/artjpeg/Korb.jpg" class="art-image" alt="Korb">
      <div class="art-text" style="display:none;">WIP.</div>
    </div>
    <div class="art-item">
      <h3>Korbit's Plaything</h3>
      <img src="images/artjpeg/Korbit's Plaything.jpg" class="art-image" alt="Korbit's Plaything">
      <div class="art-text" style="display:none;">WIP.</div>
    </div>
    <div class="art-item">
      <h3>Lawyer</h3>
      <img src="images/artjpeg/Lawyer.jpg" class="art-image" alt="Lawyer">
      <div class="art-text" style="display:none;">WIP.</div>
    </div>
    <div class="art-item">
      <h3>Vomitting Man</h3>
      <img src="images/artjpeg/Vomitting Man.jpg" class="art-image" alt="Vomitting Man">
      <div class="art-text" style="display:none;">The air at Korbit's CybNet manufacturing facility was thick with toxic biogas, a noxious byproduct of their relentless BIO-Robotics Implant production.

The man doubled over, vomiting a stream of deep purple fluid that splattered across his exposed veins. His skin had begun to melt away, revealing a tangle of blue and violet wires from his eye. Beneath his skin, the veins across his torso pulsed raw, swollen, and moments from rupture.</div>
    </div>
    <!-- Add more art-items here if you have more -->
  </div>
</div>


  <div class="panel" id="links"><p>WIP</p></div>
</div>

<!-- Art Modal -->
<div class="art-modal" id="artModal">
  <div class="art-modal-content">
    <span class="art-modal-close" id="artModalClose">&times;</span>
    <img id="modalImage" src="" alt="">
    <div id="modalText" class="art-text"></div>
  </div>
</div>

<script>
// -----------------------------
// MODAL
// -----------------------------
const artModal = document.getElementById('artModal');
const modalImage = document.getElementById('modalImage');
const modalText = document.getElementById('modalText');
const modalClose = document.getElementById('artModalClose');
const modalContent = document.querySelector('.art-modal-content');

let scrollPosition = 0;

document.querySelectorAll('.art-item img').forEach(img => {
  img.addEventListener('click', () => {
    const textDiv = img.parentElement.querySelector('.art-text');
    modalImage.src = img.src;
    modalImage.alt = img.alt;
    modalText.textContent = textDiv ? textDiv.textContent : '';

    // Store scroll position
    scrollPosition = window.pageYOffset || document.documentElement.scrollTop;

    // Lock scroll by fixing scroll position
    document.documentElement.style.overflow = 'hidden';
    document.body.style.top = `-${scrollPosition}px`;

    artModal.classList.add('active');
  });
});

const closeModal = () => {
  artModal.classList.remove('active');

  // Unlock scroll
  document.documentElement.style.overflow = '';
  document.body.style.top = '';

  // Restore scroll position
  window.scrollTo(0, scrollPosition);
};

modalClose.addEventListener('click', closeModal);
artModal.addEventListener('click', e => {
  if (e.target === artModal) closeModal();
});

// Prevent scroll leak inside modal content
modalContent.addEventListener('touchstart', function(e) {
  const scrollTop = this.scrollTop;
  const scrollHeight = this.scrollHeight;
  const offsetHeight = this.offsetHeight;
  const atTop = scrollTop === 0;
  const atBottom = scrollTop + offsetHeight >= scrollHeight;

  if (atTop) this.scrollTop = 1;
  if (atBottom) this.scrollTop = scrollHeight - offsetHeight - 1;
}, {passive: false});


// -----------------------------
// TABS
// -----------------------------
const tabs = document.querySelectorAll('.tab');
const panels = document.querySelectorAll('.panel');

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    // Deselect all tabs
    tabs.forEach(t => t.setAttribute('aria-selected','false'));
    // Hide all panels
    panels.forEach(p => p.classList.remove('active'));

    // Select clicked tab
    tab.setAttribute('aria-selected','true');

    // Show corresponding panel
    const targetId = tab.getAttribute('data-target');
    const panel = document.getElementById(targetId);
    panel.classList.add('active');

    // Special case for Music panel: make sure album links are visible
    if(targetId === 'music') {
      panel.querySelectorAll('.album-links').forEach(linkDiv => {
        linkDiv.style.maxHeight = 'none';
        linkDiv.style.overflow = 'visible';
      });
    }
  });
});

// Preload all art images
const artImages = document.querySelectorAll('.art-item img');
artImages.forEach(img => {
  const preloaded = new Image(); // create a new Image object
  preloaded.src = img.src;       // set its src to preload
});

// -----------------------------
// CANVAS BACKGROUND - FRAME ANIMATION
// -----------------------------
const canvas = document.getElementById('grayscaleCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// GIF frames
const totalFrames = 89;
const frames = [];
let loadedFrames = 0;
let frameIndex = 0;

const fps = 30;
const frameDuration = 1000 / fps;
let lastFrameTime = 0;

for (let i = 0; i < totalFrames; i++) {
    const img = new Image();
    img.src = `images/gifFrames/brand/${i}.png`;
    img.onload = () => {
        loadedFrames++;
        if (loadedFrames === totalFrames) {
            requestAnimationFrame(drawAll); // start only when all frames loaded
        }
    };
    img.onerror = () => console.error(`Failed to load frame ${i}`);
    frames.push(img);
}


// Mouse trail
const trail = [];
const layerConfigs = [
    {radius: 25, opacity: 0.6},
    {radius: 18, opacity: 0.4},
    {radius: 12, opacity: 0.2},
];
document.addEventListener('mousemove', e => {
    trail.push({x: e.clientX, y: e.clientY});
    if (trail.length > 200) trail.shift();
});

// -----------------------------
// Multiple floating copies
// -----------------------------
const copies = [];

// Configure how many copies you want
const numCopies = 30;

for (let i = 0; i < numCopies; i++) {
    copies.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        vx: (Math.random() - 0.5) * 2, // horizontal speed
        vy: (Math.random() - 0.5) * 2, // vertical speed
        scale: 0.4 + Math.random() * 0.3 // random size
    });
}

function drawAll(timestamp) {
    // Partially fade canvas for motion trails
    ctx.fillStyle = 'rgba(0,0,0,0.05)'; // lower alpha keeps trails
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    if (loadedFrames === totalFrames) {
        // Advance frame based on FPS
        if (timestamp - lastFrameTime > frameDuration) {
            frameIndex = (frameIndex + 1) % totalFrames;
            lastFrameTime = timestamp;
        }
        const frame = frames[frameIndex];

        // Draw and move each floating copy
        copies.forEach((c, i) => {
            // Apply soft glow and rotation
            ctx.save();
            const w = frame.width * c.scale;
            const h = frame.height * c.scale;
            ctx.translate(c.x + w / 2, c.y + h / 2);

            // Subtle rotation
            ctx.rotate(Math.sin(timestamp / 500 + i) * 0.1);

            // Pulsing scale (breathing)
            const currentScale = c.scale + Math.sin(timestamp / 400 + i) * 0.05;

            ctx.shadowColor = 'rgba(255,0,0,0.5)';
            ctx.shadowBlur = 20;

            ctx.drawImage(frame, -w / 2, -h / 2, w * (currentScale / c.scale), h * (currentScale / c.scale));
            ctx.restore();

            // Update position
            c.x += c.vx;
            c.y += c.vy;

            // Bounce off edges
            if (c.x < 0 || c.x + w > canvas.width) c.vx *= -1;
            if (c.y < 0 || c.y + h > canvas.height) c.vy *= -1;
        });

        // Twinkling particles
        for (let j = 0; j < 0; j++) {
            ctx.fillStyle = `rgba(255,0,0,${Math.random()})`;
            ctx.beginPath();
            ctx.arc(Math.random() * canvas.width, Math.random() * canvas.height, Math.random() * 2, 0, Math.PI * 2);
            ctx.fill();
        }
    }

    // Request next frame
    requestAnimationFrame(drawAll);
}



window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
</script>


<script>
// -----------------------------
// MODAL
// -----------------------------
const artModal = document.getElementById('artModal');
const modalImage = document.getElementById('modalImage');
const modalText = document.getElementById('modalText');
const modalClose = document.getElementById('artModalClose');

document.querySelectorAll('.art-item img').forEach(img => {
  img.addEventListener('click', () => {
    const textDiv = img.parentElement.querySelector('.art-text');
    modalImage.src = img.src;
    modalImage.alt = img.alt;
    modalText.textContent = textDiv ? textDiv.textContent : '';
    artModal.classList.add('active');
  });
});
modalClose.addEventListener('click', () => artModal.classList.remove('active'));
artModal.addEventListener('click', e => { if(e.target===artModal) artModal.classList.remove('active'); });

// -----------------------------
// TABS
// -----------------------------
const tabs = document.querySelectorAll('.tab');
const panels = document.querySelectorAll('.panel');

tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    // Deselect all tabs
    tabs.forEach(t => t.setAttribute('aria-selected','false'));
    // Hide all panels
    panels.forEach(p => p.classList.remove('active'));

    // Select clicked tab
    tab.setAttribute('aria-selected','true');

    // Show corresponding panel
    const targetId = tab.getAttribute('data-target');
    const panel = document.getElementById(targetId);
    panel.classList.add('active');

    // Special case for Music panel: make sure album links are visible
    if(targetId === 'music') {
      panel.querySelectorAll('.album-links').forEach(linkDiv => {
        linkDiv.style.maxHeight = 'none';
        linkDiv.style.overflow = 'visible';
      });
    }
  });
});
// -----------------------------
// CANVAS BACKGROUND
// -----------------------------
</script>
</body>
</html>


